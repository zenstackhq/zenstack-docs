---
title: SvelteKit
description: Adapter for integrating with SvelteKit
sidebar_position: 3
---

import PackageInstall from '../../_components/PackageInstall';
import ErrorHandling from './_error-handling.md';
import Intro from './_intro.mdx';
import AdapterOptions from './_options.mdx';

# SvelteKit Server Adapter

<Intro module='@zenstackhq/server/sveltekit' framework='SvelteKit' url="https://kit.svelte.dev/" />

### Installation

<PackageInstall dependencies={['@zenstackhq/server']} />

### Mounting the API

You can mount the API by creating SvelteKit server hooks like:

```ts title='/src/hooks.server.ts'
import { SvelteKitHandler } from '@zenstackhq/server/sveltekit';
import { RPCApiHandler } from '@zenstackhq/server/api';
import { getSessionUser } from '~/auth';
import { client } from '~/db';
import { schema } from '~/zenstack/schema';

export const handle = SvelteKitHandler({
    apiHandler: new RPCApiHandler({ schema }),
    prefix: '/api/model',
    // getSessionUser extracts the current session user from the request, its
    // implementation depends on your auth solution
    getClient: (event) => client.$setAuth(getSessionUser(event)),
});
```

:::tip
You can use the [sequence helper](https://svelte.dev/docs/kit/@sveltejs-kit-hooks#sequence) to compose multiple server hooks.
:::

The SvelteKit hooks handler takes the following options to initialize:

- prefix

    <blockquote>string</blockquote>

    Prefix for the mounted API endpoints. E.g.: /api/model.

<AdapterOptions getClient='(event: RequestEvent) => ClientContract<Schema> | Promise<ClientContract<Schema>>' />

<ErrorHandling />
